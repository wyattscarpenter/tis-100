@0
START: MOV UP ACC
JEZ SEND
MOV ACC RIGHT
SWP
ADD 1
SWP
JMP START

SEND:
SWP
MOV ACC DOWN
MOV NIL ACC
SWP
MOV DOWN NIL #WAIT

@1
MOV UP DOWN

@2
MOV UP ACC
#THIS IS A LENGTH
#REPEATER NOW
L: MOV ACC RIGHT
JMP L

@3
W: MOV LEFT ACC
MOV ACC RIGHT
LOOP: JEZ PASSBACK
MOV UP RIGHT
MOV RIGHT DOWN
SUB 1
JMP LOOP
PASSBACK:
MOV 0 RIGHT
MOV LEFT ACC
LOOP2: JEZ W
MOV DOWN UP
SUB 1
JMP LOOP2

@4
S: MOV LEFT ACC
 SUB UP
 SUB 1 #?
THROWOUT: JEZ GET
 MOV LEFT LEFT
 SUB 1
 JMP THROWOUT
 GET: SAV
  MOV LEFT ACC
  MOV ACC LEFT
  MOV ACC DOWN
REST:MOV LEFT ACC
  JEZ S
  MOV ACC LEFT
  JMP REST

@5


@6


@7
MOV UP DOWN

@8
